# Netlify configuration file
# For more information, see https://docs.netlify.com/configure-builds/file-based-configuration/

[build]
# Command to build the Next.js application
command = "next build"

# The directory that contains the built site
# Netlify Edge Runtime automatically handles .next directory
publish = ".next"

[dev]
# Local development server settings
command = "next dev"
port = 3000
publish = ".next"
targetPort = 3000
autoLaunch = true

# The functions directory for serverless functions, including Next.js API routes and server components.
[functions]
directory = ".netlify/functions-internal"

# Proper cache settings for Next.js assets
[[headers]]
for = "/_next/static/*"
[headers.values]
  Cache-Control = "public, max-age=31536000, immutable"

# Important: Let Next.js handle all routing - don't redirect everything
# The .next/static folder contains prerendered pages and the runtime

