# Netlify configuration file
# For more information, see https://docs.netlify.com/configure-builds/file-based-configuration/

[build]
# Command to build the Next.js application
command = "npm run build"

# Let @netlify/plugin-nextjs manage the publish directory
# Do NOT set publish here - the plugin will create .netlify/output/public

[dev]
# Local development server settings
command = "next dev"
port = 3000
targetPort = 3000
autoLaunch = true

# The functions directory for serverless functions, including Next.js API routes and server components.
[functions]
directory = ".netlify/functions"

# Explicitly enable the Next.js plugin for proper output generation
[[plugins]]
package = "@netlify/plugin-nextjs"

[plugins.inputs]
# Ensure plugin processes correctly
cacheOnPages = ["/"]

